"use strict";(self.webpackChunkAMS=self.webpackChunkAMS||[]).push([[716],{7716:(F,C,a)=>{a.r(C),a.d(C,{DashboardModule:()=>s});var M=a(6814),c=a(1896),e=a(8547),t=a(5879),O=a(7700),m=a(2404),v=a(9157),d=a(2032),_=a(6385),b=a(5940),x=a(5195),h=a(8034),u=a(6223);function A(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"p",5),t._uU(4,"Upload your Excel sheet to begin the analysis. Make sure your file contains the required data for processing"),t.qZA(),t.TgZ(5,"button",6),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.uploadSchedule())}),t._uU(6,"Upload File"),t.qZA()()()}}function f(i,o){if(1&i&&(t.TgZ(0,"div",2)(1,"div",7),t._UZ(2,"mat-spinner",8),t.TgZ(3,"p",9),t._uU(4),t.qZA()()()),2&i){const n=t.oxw();t.xp6(4),t.Oqu(n.messages[n.currentMessageIndex])}}function p(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"div",10)(2,"h3",11),t._uU(3,"Dashboard"),t.qZA(),t.TgZ(4,"mat-form-field",12)(5,"mat-label"),t._uU(6,"Choose a date"),t.qZA(),t.TgZ(7,"input",13),t.NdJ("ngModelChange",function(r){t.CHM(n);const g=t.oxw();return t.KtG(g.scheduleDate=r)})("dateChange",function(r){t.CHM(n);const g=t.oxw();return t.KtG(g.dataChange(r))}),t.qZA(),t._UZ(8,"mat-datepicker-toggle",14)(9,"mat-datepicker",null,15),t.qZA(),t.TgZ(11,"button",16),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.uploadSchedule())}),t._uU(12,"Upload File"),t.qZA()(),t.TgZ(13,"div",17)(14,"mat-card",18)(15,"div")(16,"span",19),t._UZ(17,"img",20),t.TgZ(18,"span",21),t._uU(19),t.qZA()()(),t.TgZ(20,"div")(21,"span",22),t._uU(22,"Airlines Operated"),t.qZA(),t._UZ(23,"mat-divider",23),t.qZA()(),t.TgZ(24,"mat-card",18)(25,"div")(26,"span",19),t._UZ(27,"img",24),t.TgZ(28,"span",21),t._uU(29),t.qZA()()(),t.TgZ(30,"div")(31,"span",22),t._uU(32,"Airways Movements"),t.qZA(),t._UZ(33,"mat-divider",23),t.qZA()(),t.TgZ(34,"mat-card",18)(35,"div")(36,"span",19),t._UZ(37,"img",25),t.TgZ(38,"span",21),t._uU(39),t.qZA()()(),t.TgZ(40,"div")(41,"span",22),t._uU(42,"Pax Handling Total"),t.qZA(),t._UZ(43,"mat-divider",23),t.qZA()()()()}if(2&i){const n=t.MAs(10),l=t.oxw();t.xp6(7),t.Q6J("matDatepicker",n)("ngModel",l.scheduleDate),t.xp6(1),t.Q6J("for",n),t.xp6(11),t.Oqu(l.airlinesCount),t.xp6(10),t.Oqu(l.schedulesCount),t.xp6(10),t.Oqu(l.noOfSeatsCount)}}const Z=[{path:"",component:(()=>{class i{constructor(n,l,r){this.dialog=n,this.router=l,this.scheduleUploadService=r,this.onLoadAnimation=!0,this.scheduleExist=!1,this.messages=["Document uploaded successfully...","Analysing the Data, please wait...","Generating the result..."],this.currentMessageIndex=0,this.onloadData=!1,this.selectedDate="",this.scheduleUploadService.isScheduleDataExist().subscribe(g=>{this.scheduleExist=g.data_exists,this.onLoadAnimation=!1,g.data_exists&&this.scheduleUploadService.getScheduleHightlights(this.selectedDate).subscribe(D=>{let y=D.respayload;this.airlinesCount=y.airlines,this.schedulesCount=y.schedules,this.noOfSeatsCount=y.noOfSeats,this.scheduleDate=y.current_date,console.log("data loaded"),this.onLoadAnimation=!1})})}loadMessagesOneByOne(){this.currentMessageIndex<this.messages.length-1&&setTimeout(()=>{this.currentMessageIndex++,this.loadMessagesOneByOne()},7e3)}dataChange(n){const l=n.value;if(l){const r=l.getFullYear(),g=this.twoDigitFormat(l.getMonth()+1),D=this.twoDigitFormat(l.getDate());this.formateDate=`${r}-${g}-${D}`,console.log("formattedDate",this.formateDate),this.scheduleUploadService.getScheduleHightlights(this.formateDate).subscribe(k=>{let S=k.respayload;this.airlinesCount=S.airlines,this.schedulesCount=S.schedules,this.noOfSeatsCount=S.noOfSeats})}}uploadSchedule(){this.dialog.open(e.V,{width:"650px",height:"650px",panelClass:"myClass",data:{componentType:"scheduleUpload",edit:!1}}).afterClosed().subscribe(n=>{!0!==n.save?(this.onLoadAnimation=!1,this.loadMessagesOneByOne()):(this.onLoadAnimation=!0,console.log("this.selectedDate==",this.selectedDate),console.log("this.this.formateDate=",this.formateDate),this.scheduleUploadService.getScheduleHightlights(this.selectedDate).subscribe(l=>{if(!0===l.success){this.onLoadAnimation=!1,this.scheduleExist=!0;let r=l.respayload;this.airlinesCount=r.airlines,this.schedulesCount=r.schedules,this.noOfSeatsCount=r.noOfSeats,this.scheduleDate=r.current_date}}))})}twoDigitFormat(n){return n.toString().padStart(2,"0")}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(O.uw),t.Y36(c.F0),t.Y36(m.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard"]],decls:3,vars:3,consts:[["class","dashboard-bg container",4,"ngIf"],[4,"ngIf"],[1,"dashboard-bg","container"],[1,"upload-container"],["src","https://testimagestore.blob.core.windows.net/assets/Upload svg.svg",1,"upload-img"],[1,"upload-description"],[1,"upload-btn",3,"click"],[1,"loading-spinner-container"],[1,"spinner"],[2,"margin-top","4%"],[1,"date-and-upload"],[1,"Dashoboard-heading",2,"justify-content","flex-start"],["appearance","outline"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateChange"],["matIconSuffix","",3,"for"],["picker",""],[1,"upload-btn",2,"height","53px","width","16%",3,"click"],[1,"card-container"],[1,"w-30"],[2,"display","flex"],["src","https://testimagestore.blob.core.windows.net/assets/Airlines operated.svg",1,"dash-hightlight-img"],[1,"highlight-value"],[1,"mat-content"],[1,"divider"],["src","https://testimagestore.blob.core.windows.net/assets/Airways Movements.svg",1,"dash-hightlight-img"],["src","https://testimagestore.blob.core.windows.net/assets/Pax Handling.svg",1,"dash-hightlight-img"]],template:function(n,l){1&n&&(t.YNc(0,A,7,0,"div",0),t.YNc(1,f,5,1,"div",0),t.YNc(2,p,44,6,"div",1)),2&n&&(t.Q6J("ngIf",!l.scheduleExist&&!l.onLoadAnimation),t.xp6(1),t.Q6J("ngIf",l.onLoadAnimation),t.xp6(1),t.Q6J("ngIf",l.scheduleExist&&!l.onLoadAnimation))},dependencies:[M.O5,v.KE,v.hX,v.R9,d.Nt,_.d,b.Ou,x.a8,h.Mq,h.hl,h.nW,u.Fj,u.JJ,u.On],styles:[".dashboard-bg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#fbfbfb}.dashboard-bg[_ngcontent-%COMP%]   .upload-img[_ngcontent-%COMP%]{width:252px;height:254px}.dashboard-bg[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:center;gap:32px}.dashboard-bg[_ngcontent-%COMP%]   .upload-description[_ngcontent-%COMP%]{text-align:center;font-family:Mulish;font-size:18px;font-style:normal;font-weight:500;line-height:28px;width:580px;color:#7a7a7a}.upload-btn[_ngcontent-%COMP%]{display:flex;height:48px;padding:12px 40px;justify-content:center;align-items:center;gap:12px;cursor:pointer;color:#fff;border-radius:4px;border:none;background-color:#5172ed}.date-and-upload[_ngcontent-%COMP%]{display:flex;gap:2%;margin-top:3%;justify-content:flex-end;margin-right:2%}.myClass[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{margin:0;color:#0ff}.loading-spinner-container[_ngcontent-%COMP%]{align-items:center;justify-content:center}.spinner[_ngcontent-%COMP%]{width:80px;height:80px;margin-left:24px;margin-bottom:25px;--mdc-circular-progress-size: 100px;--mdc-circular-progress-active-indicator-width: 100px}.card-container[_ngcontent-%COMP%]{display:flex;margin-top:3%;align-items:center;justify-content:center;gap:3%}.mat-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10%;color:var(--neutral-200, #666);font-family:Mulish;font-size:16px;font-style:normal;font-weight:500;line-height:24px}.dash-hightlight-img[_ngcontent-%COMP%]{width:15%;margin-left:5%;margin-top:7%;display:inline-block}.highlight-value[_ngcontent-%COMP%]{margin-top:8%;margin-left:3%;color:#3d3d3d;font-family:Urbanist;font-size:32px;font-style:normal;font-weight:600;line-height:28px;letter-spacing:1.92px}.divider[_ngcontent-%COMP%]{width:78%;margin-left:11%;margin-bottom:9%}.Dashoboard-heading[_ngcontent-%COMP%]{font-family:Mulish;font-weight:700;display:flex;float:left;position:absolute;left:3%}.mat-footer-content[_ngcontent-%COMP%]{color:var(--neutral-200, #666);font-family:Mulish;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.w-30[_ngcontent-%COMP%]{width:30%}"]}),i})()}];let T=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.Bz.forChild(Z),c.Bz]}),i})();var U=a(698),w=a(6652),P=a(4104);let s=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[M.ez,T,U.m,w.q,O.Is,u.UX,u.u5,P.Nh]}),i})()},8547:(F,C,a)=>{a.d(C,{V:()=>P});var M=a(8645),c=a(7700),e=a(5879),t=a(6814),O=a(2754),m=a(9038),v=a(6385),d=a(2296),_=a(3814),b=a(6223);function x(s,i){if(1&s&&e._UZ(0,"img",18),2&s){const o=e.oxw().$implicit;e.Q6J("src",o.airline_logo,e.LSH)}}function h(s,i){if(1&s&&(e.TgZ(0,"mat-list-option",15)(1,"div",16)(2,"div"),e._uU(3),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"div"),e.YNc(6,x,1,1,"img",17),e.qZA()()()),2&s){const o=i.$implicit;e.Q6J("value",o.id_airline),e.xp6(3),e.hij(" ",o.airline_name," "),e.xp6(3),e.Q6J("ngIf",o.airline_logo)}}let u=(()=>{class s{constructor(o,n,l){this.airlineWiseMovementService=o,this.data=n,this.dialogRef=l,this.airlines_list=[],this.selectedAirlines=["all"],this.airlineWiseMovementService.getAirlines(),this.airlineWiseMovementService.getAirlineListener().subscribe(r=>{this.airlines_list=r.airlines,this.data.airlinesSelected.length&&(this.selectedAirlines=this.data.airlinesSelected.map(g=>g.id_airline))})}ngOnInit(){}airlineSelected(o,n){let l=n.selectedOptions.selected.map(r=>r.value);"all"===o.options[0].value?this.selectedAirlines=["all"]:l.length>1&&l.includes("all")&&(this.selectedAirlines=[...l.filter(r=>"all"!==r)])}apply(){this.selectedAirlines=this.selectedAirlines.filter(n=>"all"!==n.airline_name);let o=this.airlines_list.filter(n=>this.selectedAirlines.includes(n.id_airline));this.dialogRef.close({save:!0,airlines:o})}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(O.Y),e.Y36(c.WI),e.Y36(c.so))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-airlines-filter"]],decls:20,vars:2,consts:[[1,"airlines-modal"],["mat-dialog-title","","fxLayout","row","fxLayoutAlign","start center",1,"mat-typography"],["fxFlex","initial",1,"header"],["fxFlex","auto"],["mat-dialog-close","",1,"close-button","cursor-pointer"],["src","../https://testimagestore.blob.core.windows.net/assets/close-circle.svg","alt",""],[1,"-mx-24"],["mat-dialog-content",""],[1,"ams-selection-list",3,"ngModel","ngModelChange","selectionChange"],["airlines",""],["togglePosition","before","value","all"],["togglePosition","before",3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end",1,"action-buttons"],["mat-button","","mat-dialog-close","",1,"cancel-button"],["mat-stroked-button","",1,"apply-filter-button",3,"click"],["togglePosition","before",3,"value"],["fxFlex","row"],["alt","",3,"src",4,"ngIf"],["alt","",3,"src"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Choose Airlines"),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"button",4),e._UZ(6,"img",5),e.qZA()(),e._UZ(7,"mat-divider",6),e.TgZ(8,"div",7)(9,"mat-selection-list",8,9),e.NdJ("ngModelChange",function(g){return n.selectedAirlines=g})("selectionChange",function(g){e.CHM(l);const D=e.MAs(10);return e.KtG(n.airlineSelected(g,D))}),e.TgZ(11,"mat-list-option",10),e._uU(12,"All"),e.qZA(),e.YNc(13,h,7,3,"mat-list-option",11),e.qZA()(),e._UZ(14,"mat-divider",6),e.TgZ(15,"div",12)(16,"button",13),e._uU(17,"Cancel"),e.qZA(),e.TgZ(18,"button",14),e.NdJ("click",function(){return n.apply()}),e._uU(19,"Apply Filter"),e.qZA()()()}2&o&&(e.xp6(9),e.Q6J("ngModel",n.selectedAirlines),e.xp6(4),e.Q6J("ngForOf",n.airlines_list))},dependencies:[t.sg,t.O5,m.Ub,m.vS,v.d,c.ZT,c.uh,c.xY,c.H8,d.lW,_.xw,_.Wh,_.yH,b.JJ,b.On],styles:[".header[_ngcontent-%COMP%]{font-weight:500}.airlines-modal[_ngcontent-%COMP%]{padding:2em}.action-buttons[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.close-button[_ngcontent-%COMP%]{background:transparent;border:0px;margin-bottom:14px}.action-buttons[_ngcontent-%COMP%]   .apply-filter-button[_ngcontent-%COMP%]{background-color:#5865f2;border-radius:4px;color:#fff;font-weight:400}.action-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{margin-right:1em;width:45px;border-radius:4px;font-weight:400;background:#E8E8E8}img[_ngcontent-%COMP%]{display:block;width:19%;float:right}.ams-selection-list[_ngcontent-%COMP%]     mat-list-option .mdc-list-item__start .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .ams-selection-list[_ngcontent-%COMP%]     mat-list-option .mdc-list-item__start .mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background, .ams-selection-list[_ngcontent-%COMP%]     mat-list-option .mdc-list-item__start .mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{background-color:var(--ams-checkbox)!important;border-color:var(--ams-checkbox)!important}.ams-selection-list[_ngcontent-%COMP%]     mat-list-option .mdc-list-item__start .mdc-checkbox .mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--ams-white)}"]}),s})();var A=a(3637);function f(s,i){1&s&&e.GkF(0)}const p=function(s){return{data:s}};function W(s,i){if(1&s&&(e.ynx(0),e.YNc(1,f,1,0,"ng-container",4),e.BQk()),2&s){const o=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,p,o.parseData))}}function Z(s,i){1&s&&e.GkF(0)}function T(s,i){if(1&s&&(e.ynx(0),e.YNc(1,Z,1,0,"ng-container",4),e.BQk()),2&s){const o=e.oxw(),n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,p,o.parseData))}}function U(s,i){1&s&&e._UZ(0,"app-schedule-upload-modal",5),2&s&&e.Q6J("dataFromParent",i.data)}function w(s,i){1&s&&e._UZ(0,"app-airlines-filter")}let P=(()=>{class s{constructor(o,n){this.dialogRef=o,this.data=n,this.dialog_subject=new M.x,this.changeDetection="",this.close=()=>{this.dialogRef.close({data:this.parseData,available:this.parseData.sharedData})},this.parseData=n,this.dialog_subject.asObservable(),this.dialog_subject.subscribe(l=>{this.parseData=l,this.changeDetection=l.updateValue})}ngAfterViewInit(){throw new Error("Method not implemented.")}ngOnInit(){throw new Error("Method not implemented.")}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(c.so),e.Y36(c.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-modal-window"]],decls:7,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["scheduleUpload",""],["airlines_filter",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dataFromParent"]],template:function(o,n){1&o&&(e.ynx(0,0),e.YNc(1,W,2,4,"ng-container",1),e.YNc(2,T,2,4,"ng-container",1),e.BQk(),e.YNc(3,U,1,1,"ng-template",null,2,e.W1O),e.YNc(5,w,1,0,"ng-template",null,3,e.W1O)),2&o&&(e.Q6J("ngSwitch",n.parseData.componentType),e.xp6(1),e.Q6J("ngSwitchCase","scheduleUpload"),e.xp6(1),e.Q6J("ngSwitchCase","airlines-filter"))},dependencies:[t.tP,t.RF,t.n9,u,A.A]}),s})()},2754:(F,C,a)=>{a.d(C,{Y:()=>O});var M=a(9413),c=a(8645),e=a(5879),t=a(9862);let O=(()=>{class m{constructor(d){this.http=d,this.baseURL=M.N.apiUrl+"/schedule",this.airlineWiseMovementUpdateListenerObservable=new c.x,this.airlineObservable=new c.x}getAirlineWiseMovement(d,_,b){let x;return x=_&&b?{airline_id:d,valid_from:_,valid_to:b}:{airline_id:d},this.http.get(this.baseURL+"/getscheduleairlines",{params:{...x}}).subscribe(h=>{let u={airline_name:"Total",arrival_count:h.respayload.reduce((f,p)=>p.arrival_count+f,0),departure_count:h.respayload.reduce((f,p)=>p.departure_count+f,0),overnight_parking_count:h.respayload.reduce((f,p)=>p.overnight_parking_count+f,0)},A=h.respayload;A.push(u),this.airlineWiseMovementUpdateListenerObservable.next({success:h.success,message:h.message,airlinesData:A})})}getAirlines(){return this.http.get(this.baseURL+"/getairlines").subscribe(d=>{this.airlineObservable.next({success:d.success,airlines:d.respayload,message:d.message})})}getAirlineWiseMovementUpdateListener(){return this.airlineWiseMovementUpdateListenerObservable.asObservable()}getAirlineListener(){return this.airlineObservable.asObservable()}}return m.\u0275fac=function(d){return new(d||m)(e.LFG(t.eN))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);